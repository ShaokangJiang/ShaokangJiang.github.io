<!DOCTYPE html><html><head><meta name="generator" content="Hexo 3.8.0"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><title>Simple interative Haskell game | Shaokang&#39;s Blog</title><meta name="keywords" content="functional programming, Haskell, Blog"><link rel="alternate" href="/rss2.xml" title="Shaokang's Blog"><meta name="HandheldFriendly" content="True"><meta name="apple-mobile-web-app-capable" content="yes"><meta name="viewport" content="width=device-width,initial-scale=1,maximum-scale=1"><link rel="stylesheet" href="https://cdn.jsdelivr.net/gh/fancyapps/fancybox@3.5.7/dist/jquery.fancybox.min.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/node-waves@0.7.6/dist/waves.min.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free@5.6.3/css/all.min.css"><link href="/css/table.css" type="text/css" rel="stylesheet" media="screen,projection"><link rel="stylesheet" href="https://shaokangjiang.github.io/styles/katex.min.css"><link rel="stylesheet" href="/style.css"><script>function setLoadingBarProgress(e){document.getElementById("loading-bar").style.width=e+"%"}</script><script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.4/latest.js?config=TeX-MML-AM_CHTML"></script><script type="text/x-mathjax-config">MathJax.Hub.Config({tex2jax: {inlineMath: [['$','$'], ['\\(','\\)']]}});</script><link rel="alternate" href="/rss2.xml" title="Shaokang's Blog" type="application/rss+xml"></head><body><div id="cover-wrapper-cover" class="cover-wrapper"><cover class="cover post half"><h1 class="title">Shaokang's Blog</h1><div class="m_search"><form name="searchform" class="form u-search-form"><input type="text" class="input u-search-input" placeholder="search"> <i class="icon fas fa-search fa-fw"></i></form></div><div class="menu navgation"><ul class="h-list"><li><a class="nav home" href="/" id="home"><i class="fas fa-rss fa-fw"></i>&nbsp;Recent</a></li><li><a class="nav home" href="/projects/" id="projects"><i class="fas fa-code-branch fa-fw"></i>&nbsp;Projects</a></li><li><a class="nav home" href="https://shaokangjiang.github.io/resume" rel="nofollow" id="https:shaokangjiang.github.ioresume"><i class="fas fa-book fa-fw"></i>&nbsp;Resume</a></li><li><a class="nav home" href="/about/" rel="nofollow" id="about"><i class="fas fa-info-circle fa-fw"></i>&nbsp;About</a></li></ul></div></cover><header class="l_header material"><div id="loading-bar-wrapper"><div id="loading-bar" class="material"></div></div><div class="wrapper"><div class="nav-main container container--flex"><a class="logo flat-box" href="/">Shaokang's Blog</a><div class="menu navgation"><ul class="h-list"><li><a class="nav flat-box" href="/" id="home"><i class="fas fa-grin fa-fw"></i>&nbsp;Recent</a></li><li><a class="nav flat-box" href="/categories/" rel="nofollow" id="categories"><i class="fas fa-folder-open fa-fw"></i>&nbsp;Category</a></li><li><a class="nav flat-box" href="/tags/" rel="nofollow" id="tags"><i class="fas fa-hashtag fa-fw"></i>&nbsp;Tags</a></li><li><a class="nav flat-box" href="/archives/" rel="nofollow" id="archives"><i class="fas fa-archive fa-fw"></i>&nbsp;Archive</a></li></ul></div><div class="m_search"><form name="searchform" class="form u-search-form"><input type="text" class="input u-search-input" placeholder="Search"> <i class="icon fas fa-search fa-fw"></i></form></div><ul class="switcher h-list"><li class="s-search"><a class="fas fa-search fa-fw" href="javascript:void(0)"></a></li><li class="s-menu"><a class="fas fa-bars fa-fw" href="javascript:void(0)"></a></li></ul></div><div class="nav-sub container container--flex"><a class="logo flat-box"></a><ul class="switcher h-list"><li class="s-comment"><a class="flat-btn fas fa-comments fa-fw" href="javascript:void(0)"></a></li><li class="s-toc"><a class="flat-btn fas fa-list fa-fw" href="javascript:void(0)"></a></li></ul></div></div></header><aside class="menu-phone"><header><nav class="menu navgation"><ul><li><a class="nav flat-box" href="/" id="home"><i class="fas fa-clock fa-fw"></i>&nbsp;Recent</a></li><li><a class="nav flat-box" href="/archives/" rel="nofollow" id="archives"><i class="fas fa-archive fa-fw"></i>&nbsp;Archive</a></li><li><a class="nav flat-box" href="/projects/" id="projects"><i class="fas fa-code-branch fa-fw"></i>&nbsp;Project</a></li><li><a class="nav flat-box" href="/categories/" rel="nofollow" id="categories"><i class="fas fa-folder-open fa-fw"></i>&nbsp;Category</a></li><li><a class="nav flat-box" href="/tags/" rel="nofollow" id="tags"><i class="fas fa-hashtag fa-fw"></i>&nbsp;Tags</a></li><li><a class="nav flat-box" href="https://shaokangjiang.github.io/resume//" rel="nofollow" id="https:shaokangjiang.github.ioresume"><i class="fas fa-book fa-fw"></i>&nbsp;Resume</a></li><li><a class="nav flat-box" href="/about/" rel="nofollow" id="about"><i class="fas fa-info-circle fa-fw"></i>&nbsp;About</a></li></ul></nav></header></aside><script>setLoadingBarProgress(40)</script></div><div class="l_body"><div class="body-wrapper"><div class="l_main"><article id="post" class="post white-box article-type-post" itemscope itemprop="blogPost"><section class="meta"><div class="meta" id="header-meta"><h1 class="title"><a href="/2023/Simple-interative-Haskell-game/">Simple interative Haskell game</a></h1><div class="new-meta-box"><div class="new-meta-item author"><a href="https://shaokangjiang.github.io" rel="nofollow"><i class="fas fa-user" aria-hidden="true"></i><p>Shaokang Jiang</p></a></div><div class="new-meta-item date"><a class="notlink"><i class="fas fa-calendar-alt" aria-hidden="true"></i><p>12/15/2023</p></a></div><div class="new-meta-item category"><a href="/categories/Haskell/" rel="nofollow"><i class="fas fa-folder-open" aria-hidden="true"></i><p>Haskell</p></a></div></div><hr></div></section><section class="article typo"><div class="article-entry" itemprop="articleBody"><p>Note: This is a group project for CSE 230, principles of functional programming language. I am responsible for coding the GUI and handling the interaction between the front-end and back-end using the brick library based on the Haskell programming language. Runnable project can be seen at: <a href="https://github.com/t3chou/haskell-game-of-life" target="_blank" rel="noopener">t3chou/haskell-game-of-life (github.com)</a><a id="more"></a></p><p>In this project, we</p><ul><li>Designed the core logic in pure functional language</li><li>Wrote the GUI in pure functional language</li><li>Designed a user-friendly interface</li><li>Did property tests to catch logical errors</li></ul><h2 id="overview"><a class="markdownIt-Anchor" href="#overview"></a> Overview</h2><p>This project implements Conway’s Game of Life by using Haskell, which is great for modeling complex mathematical concepts with the design of Haskell. The Game of Life, a zero-player game, evolves from an initial state, showing emergent behavior based on some rules and status (Birth, Survival, and Death). Haskell’s strong typing and pure functionality align perfectly with this game.</p><h2 id="game-description"><a class="markdownIt-Anchor" href="#game-description"></a> Game Description</h2><p>The Game of Life occurs on an infinite grid of cells. The status of each cell will be changed based on neighboring cells following those rules:</p><ul><li><strong>Birth</strong>: A dead cell with three live neighbors becomes alive.</li><li><strong>Survival</strong>: A live cell with two or three live neighbors stays alive.</li><li><strong>Death</strong>:<ul><li><strong>Overpopulation</strong>: A live cell with over three live neighbors dies.</li><li><strong>Loneliness</strong>: A live cell with under two live neighbors dies.</li></ul></li></ul><h2 id="implementation"><a class="markdownIt-Anchor" href="#implementation"></a> implementation</h2><p>Haskell’s fits for expressing the game’s rules. Key aspects of our implementation include:</p><ol><li><strong>Functional Grid Representation</strong>: Using list comprehensions and higher-order functions for the grid.</li><li><strong>State Transformation</strong>: Pure functions for state transitions between generations.</li><li><strong>Interaction Functionality</strong>: Implementing pause/continue in the game, boosting the interaction between users and the game with the help of the brick library.</li><li><strong>Unit Testing</strong>: Using QuickCheck to test each functionality, and game logic.</li><li><strong>Managing Dependencies</strong>: Making use of tools like Cabal or Stack to manage dependencies.</li></ol><h2 id="project-goals"><a class="markdownIt-Anchor" href="#project-goals"></a> Project Goals</h2><ol><li><strong>Mathematical Fidelity</strong>: Ensure full implementation of the game following Conway’s rules.</li><li><strong>User Interactions</strong>: Interacting with a user-friendly interface by key presses for pausing/continuing the game or quitting using the brick library.</li><li><strong>Using existing libraries of the hackage ecosystem</strong>: Utilizing existing libraries like containers and vector.</li></ol><p>This project aims to create a Conway’s Game of Life simulation in Haskell, as well as representing a string connection between a mathematical model and functional programming.</p><h2 id="source-acknowledgment"><a class="markdownIt-Anchor" href="#source-acknowledgment"></a> Source acknowledgment</h2><ol><li>As required by the course website, we are using the Brick library to implement the GUI interface. We did look at the official guidelines from <a href="https://github.com/jtdaugherty/brick" target="_blank" rel="noopener">https://github.com/jtdaugherty/brick</a> to implement any components relevant to GUI because the Brick library has never been taught in class.</li><li>We use <a href="https://hoogle.haskell.org/" target="_blank" rel="noopener">Haskell’s Hoodle</a> to explore and employ functions for implementing our project because not all Haskell components were covered during class.</li><li>We use <a href="https://hackage.haskell.org/package/QuickCheck" target="_blank" rel="noopener">QuickCheck</a> library to accomplish the unit testing requirments as required by the course website.</li></ol><h2 id="code"><a class="markdownIt-Anchor" href="#code"></a> Code</h2><p>The following shows codes for the front-end interface based on the brick library. In more detail, the GUI contains clickable buttons, a user-friendly setting interface, and a playable game with everything being programmed using state in Haskell:</p><figure class="highlight haskell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br><span class="line">137</span><br><span class="line">138</span><br><span class="line">139</span><br><span class="line">140</span><br><span class="line">141</span><br><span class="line">142</span><br><span class="line">143</span><br><span class="line">144</span><br><span class="line">145</span><br><span class="line">146</span><br><span class="line">147</span><br><span class="line">148</span><br><span class="line">149</span><br><span class="line">150</span><br><span class="line">151</span><br><span class="line">152</span><br><span class="line">153</span><br><span class="line">154</span><br><span class="line">155</span><br><span class="line">156</span><br><span class="line">157</span><br><span class="line">158</span><br><span class="line">159</span><br><span class="line">160</span><br><span class="line">161</span><br><span class="line">162</span><br><span class="line">163</span><br><span class="line">164</span><br><span class="line">165</span><br><span class="line">166</span><br><span class="line">167</span><br><span class="line">168</span><br><span class="line">169</span><br><span class="line">170</span><br><span class="line">171</span><br><span class="line">172</span><br><span class="line">173</span><br><span class="line">174</span><br><span class="line">175</span><br><span class="line">176</span><br><span class="line">177</span><br><span class="line">178</span><br><span class="line">179</span><br><span class="line">180</span><br><span class="line">181</span><br><span class="line">182</span><br><span class="line">183</span><br><span class="line">184</span><br><span class="line">185</span><br><span class="line">186</span><br><span class="line">187</span><br><span class="line">188</span><br></pre></td><td class="code"><pre><span class="line"><span class="title">clickable</span><span class="meta">&#123;-# LANGUAGE CPP #-&#125;</span></span><br><span class="line"><span class="meta">&#123;-# LANGUAGE OverloadedStrings #-&#125;</span></span><br><span class="line"><span class="meta">&#123;-# LANGUAGE TemplateHaskell #-&#125;</span></span><br><span class="line"><span class="keyword">module</span> Main (<span class="title">main</span>) <span class="keyword">where</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> <span class="keyword">qualified</span> Life       <span class="keyword">as</span> L</span><br><span class="line"><span class="keyword">import</span> <span class="keyword">qualified</span> PresetGrid <span class="keyword">as</span> P</span><br><span class="line"><span class="keyword">import</span> Control.Concurrent (<span class="title">threadDelay</span>)</span><br><span class="line"><span class="keyword">import</span> <span class="keyword">qualified</span> Data.Text <span class="keyword">as</span> T</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> Lens.Micro ((^.), (%~), set)</span><br><span class="line"><span class="keyword">import</span> Lens.Micro.TH (<span class="title">makeLenses</span>)</span><br><span class="line"><span class="keyword">import</span> Lens.Micro.Mtl (<span class="title">use</span>, (.=), (%=))</span><br><span class="line"><span class="keyword">import</span> Control.Monad (<span class="title">void</span>)</span><br><span class="line"><span class="keyword">import</span> Control.Monad.Trans (<span class="title">liftIO</span>)</span><br><span class="line"><span class="meta">#if !(MIN_VERSION_base(4,11,0))</span></span><br><span class="line"><span class="keyword">import</span> Data.Monoid ((&lt;&gt;))</span><br><span class="line"><span class="meta">#endif</span></span><br><span class="line"><span class="keyword">import</span> <span class="keyword">qualified</span> Graphics.Vty <span class="keyword">as</span> V</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> <span class="keyword">qualified</span> Brick.Types <span class="keyword">as</span> T</span><br><span class="line"><span class="keyword">import</span> Brick.AttrMap</span><br><span class="line"><span class="keyword">import</span> Brick.Util</span><br><span class="line"><span class="keyword">import</span> Brick.Types (<span class="type">Widget</span>, <span class="type">ViewportType(Vertical)</span>, <span class="type">EventM</span></span><br><span class="line">  , <span class="type">BrickEvent(..)</span> </span><br><span class="line">  )</span><br><span class="line"><span class="keyword">import</span> <span class="keyword">qualified</span> Brick.Widgets.Center <span class="keyword">as</span> C</span><br><span class="line"><span class="keyword">import</span> <span class="keyword">qualified</span> Brick.Widgets.Border <span class="keyword">as</span> B</span><br><span class="line"><span class="keyword">import</span> <span class="keyword">qualified</span> Brick.Widgets.Border.Style <span class="keyword">as</span> BS</span><br><span class="line"><span class="keyword">import</span> Brick.Main</span><br><span class="line">  ( <span class="type">App</span>(..), neverShowCursor, defaultMain</span><br><span class="line">  , suspendAndResume, halt, getVtyHandle, showFirstCursor, vScrollBy, viewportScroll</span><br><span class="line">  )</span><br><span class="line"><span class="keyword">import</span> Brick.Widgets.Core</span><br><span class="line"><span class="keyword">import</span> <span class="keyword">qualified</span> Data.Array <span class="keyword">as</span> A</span><br><span class="line"><span class="keyword">import</span> Life (<span class="type">GridState(..)</span>)</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">data</span> <span class="type">Name</span> = <span class="type">Block</span> | <span class="type">Beehive</span> | <span class="type">Loaf</span> | <span class="type">Boat</span> | <span class="type">Tub</span> | <span class="type">Blinker</span> | <span class="type">Toad</span> | <span class="type">Beacon</span> | <span class="type">Reset</span> | <span class="type">Next</span> | <span class="type">Quit</span> | <span class="type">Cell</span> &#123; <span class="title">_idx</span> :: <span class="type">L</span>.<span class="type">GridIndex</span> , <span class="title">_cst</span> :: <span class="type">L</span>.<span class="type">CellState</span>&#125;</span></span><br><span class="line">          <span class="keyword">deriving</span> (<span class="type">Show</span>, <span class="type">Ord</span>, <span class="type">Eq</span>)</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">data</span> <span class="type">St</span> =</span></span><br><span class="line">    <span class="type">St</span> &#123; _clicked :: [<span class="type">T</span>.<span class="type">Extent</span> <span class="type">Name</span>]</span><br><span class="line">       , _lastReportedClick :: <span class="type">Maybe</span> (<span class="type">Name</span>, <span class="type">T</span>.<span class="type">Location</span>)</span><br><span class="line">       , _state :: <span class="type">L</span>.<span class="type">GridState</span></span><br><span class="line">       , _step :: <span class="type">Int</span> </span><br><span class="line">       , _msg :: <span class="type">String</span></span><br><span class="line">       &#125;</span><br><span class="line"></span><br><span class="line"><span class="title">makeLenses</span> ''<span class="type">St</span></span><br><span class="line"></span><br><span class="line"><span class="title">drawUi</span> :: <span class="type">St</span> -&gt; [<span class="type">Widget</span> <span class="type">Name</span>]</span><br><span class="line"><span class="title">drawUi</span> st =</span><br><span class="line">  [vBox [ </span><br><span class="line">          <span class="type">B</span>.hBorderWithLabel (str <span class="string">"haskell game of life"</span>)</span><br><span class="line">         , vBox [ buttonLayer st</span><br><span class="line">             &lt;+&gt; <span class="type">B</span>.vBorder</span><br><span class="line">             &lt;+&gt; <span class="type">C</span>.vCenter (padAll <span class="number">3</span> $ hLimit <span class="number">10</span> $ vBox [ strWrap (<span class="string">"Click to modify state\n\nCurrent:"</span>) , padTop (<span class="type">Pad</span> <span class="number">1</span>) (gridLayer st <span class="type">L</span>.gridRows <span class="type">L</span>.gridCols)])</span><br><span class="line">                  , str <span class="string">"(Press Esc to quit or n for the next state)"</span> ]]]</span><br><span class="line"></span><br><span class="line"><span class="title">gridLayer</span> :: <span class="type">St</span> -&gt; <span class="type">Int</span> -&gt; <span class="type">Int</span> -&gt; <span class="type">Widget</span> <span class="type">Name</span></span><br><span class="line"><span class="title">gridLayer</span> st rs cs = vBox (map (\r -&gt; hBox (map (\c -&gt; mc (r, c) (_state st)) [<span class="number">0.</span>.cs<span class="number">-1</span>])) [<span class="number">0.</span>.rs<span class="number">-1</span>])</span><br><span class="line">    <span class="keyword">where</span></span><br><span class="line">        mkCell cell = </span><br><span class="line">            clickable cell $</span><br><span class="line">            <span class="comment">--    padTopBottom 1 $</span></span><br><span class="line">            <span class="comment">--    padLeftRight (if wasClicked then 2 else 3) $</span></span><br><span class="line">            str (<span class="keyword">if</span> _cst cell == <span class="type">L</span>.<span class="type">Alive</span> <span class="keyword">then</span> <span class="string">"o"</span> <span class="keyword">else</span> <span class="string">"."</span>)</span><br><span class="line">        mc idx (<span class="type">GridState</span> g)  = mkCell (<span class="type">Cell</span> idx (g <span class="type">A</span>.! idx)) <span class="comment">--str (case g A.! idx of</span></span><br><span class="line">            <span class="comment">--L.Alive -&gt; "o"</span></span><br><span class="line">            <span class="comment">--L.Dead  -&gt; ".") </span></span><br><span class="line">        <span class="comment">-- cellChar L.Alive = "o"</span></span><br><span class="line">        <span class="comment">-- cellChar L.Dead  = "."</span></span><br><span class="line"></span><br><span class="line"><span class="title">buttonLayer</span> :: <span class="type">St</span> -&gt; <span class="type">Widget</span> <span class="type">Name</span></span><br><span class="line"><span class="title">buttonLayer</span> st =</span><br><span class="line">    vBox [(padLeft (<span class="type">Pad</span> <span class="number">1</span>) $ str (<span class="string">"Current steps:"</span> &lt;&gt; show (_step st))) , <span class="type">B</span>.hBorder,</span><br><span class="line">    (padLeft (<span class="type">Pad</span> <span class="number">1</span>) $  str <span class="string">"Select profile (always live):"</span>) </span><br><span class="line">    ,(hBox $ padAll <span class="number">1</span> &lt;$&gt; buttons), </span><br><span class="line">    vBox [ (padLeft (<span class="type">Pad</span> <span class="number">1</span>) $  str <span class="string">"Select profile (oscillators):"</span>) </span><br><span class="line">    ,(hBox $ padAll <span class="number">1</span> &lt;$&gt; buttons1), (padLeft (<span class="type">Pad</span> <span class="number">1</span>) $  str <span class="string">"Controls:"</span>) </span><br><span class="line">    ,(hBox $ padAll <span class="number">1</span> &lt;$&gt; buttons2)]]</span><br><span class="line">    <span class="keyword">where</span></span><br><span class="line">        buttons = mkButton &lt;$&gt; buttonData</span><br><span class="line">        buttonData = [ (<span class="type">Block</span>, <span class="string">"Block"</span>, attrName <span class="string">"Block"</span>)</span><br><span class="line">                     , (<span class="type">Beehive</span>, <span class="string">"Beehive"</span>, attrName <span class="string">"Beehive"</span>)</span><br><span class="line">                     , (<span class="type">Loaf</span>, <span class="string">"Loaf"</span>, attrName <span class="string">"Loaf"</span>)</span><br><span class="line">                     , (<span class="type">Boat</span>, <span class="string">"Boat"</span>, attrName <span class="string">"Boat"</span>)</span><br><span class="line">                     , (<span class="type">Tub</span>, <span class="string">"Tub"</span>, attrName <span class="string">"Tub"</span>)</span><br><span class="line">                     ]</span><br><span class="line">        buttons1 = mkButton &lt;$&gt; buttonData1</span><br><span class="line">        buttonData1 = [ (<span class="type">Blinker</span>, <span class="string">"Blinker"</span>, attrName <span class="string">"Blinker"</span>)</span><br><span class="line">                     , (<span class="type">Toad</span>, <span class="string">"Toad"</span>, attrName <span class="string">"Toad"</span>)</span><br><span class="line">                     , (<span class="type">Beacon</span>, <span class="string">"Beacon"</span>, attrName <span class="string">"Beacon"</span>)</span><br><span class="line">                     ]</span><br><span class="line">        buttons2 = mkButton &lt;$&gt; buttonData2</span><br><span class="line">        buttonData2 = [ (<span class="type">Reset</span>, <span class="string">"Reset"</span>, attrName <span class="string">"Reset"</span>)</span><br><span class="line">                     , (<span class="type">Next</span>, <span class="string">"Next"</span>, attrName <span class="string">"Next"</span>)</span><br><span class="line">                     , (<span class="type">Quit</span>, <span class="string">"Quit"</span>, attrName <span class="string">"Quit"</span>)</span><br><span class="line">                     ]</span><br><span class="line">        mkButton (name, label, attr) =</span><br><span class="line">            <span class="keyword">let</span> wasClicked = (fst &lt;$&gt; st^.lastReportedClick) == <span class="type">Just</span> name</span><br><span class="line">            <span class="keyword">in</span> clickable name $</span><br><span class="line">               withDefAttr attr $</span><br><span class="line">               <span class="type">B</span>.border $</span><br><span class="line">            <span class="comment">--    padTopBottom 1 $</span></span><br><span class="line">               padLeftRight (<span class="keyword">if</span> wasClicked <span class="keyword">then</span> <span class="number">2</span> <span class="keyword">else</span> <span class="number">3</span>) $</span><br><span class="line">               str (<span class="keyword">if</span> wasClicked <span class="keyword">then</span> <span class="string">"&lt;"</span> &lt;&gt; label &lt;&gt; <span class="string">"&gt;"</span> <span class="keyword">else</span> label)</span><br><span class="line"></span><br><span class="line"><span class="title">appEvent</span> :: <span class="type">T</span>.<span class="type">BrickEvent</span> <span class="type">Name</span> e -&gt; <span class="type">T</span>.<span class="type">EventM</span> <span class="type">Name</span> <span class="type">St</span> ()</span><br><span class="line"><span class="title">appEvent</span> ev@(<span class="type">T</span>.<span class="type">MouseDown</span> n _ _ loc) = <span class="keyword">do</span></span><br><span class="line">        lastReportedClick .= <span class="type">Just</span> (n, loc)</span><br><span class="line">        <span class="keyword">case</span> n <span class="keyword">of</span></span><br><span class="line">            <span class="type">Block</span> -&gt; <span class="keyword">do</span> </span><br><span class="line">                state .= (<span class="type">P</span>.strToGrid <span class="type">P</span>.block)</span><br><span class="line">                step .= <span class="number">0</span></span><br><span class="line">            <span class="type">Beehive</span> -&gt; <span class="keyword">do</span> </span><br><span class="line">                state .= (<span class="type">P</span>.strToGrid <span class="type">P</span>.beehive)</span><br><span class="line">                step .= <span class="number">0</span></span><br><span class="line">            <span class="type">Loaf</span> -&gt; <span class="keyword">do</span> </span><br><span class="line">                state .= (<span class="type">P</span>.strToGrid <span class="type">P</span>.loaf)</span><br><span class="line">                step .= <span class="number">0</span></span><br><span class="line">            <span class="type">Boat</span> -&gt; <span class="keyword">do</span> </span><br><span class="line">                state .= (<span class="type">P</span>.strToGrid <span class="type">P</span>.boat)</span><br><span class="line">                step .= <span class="number">0</span></span><br><span class="line">            <span class="type">Tub</span> -&gt; <span class="keyword">do</span> </span><br><span class="line">                state .= (<span class="type">P</span>.strToGrid <span class="type">P</span>.tub)</span><br><span class="line">                step .= <span class="number">0</span></span><br><span class="line">            <span class="type">Blinker</span> -&gt; <span class="keyword">do</span> </span><br><span class="line">                state .= (<span class="type">P</span>.strToGrid <span class="type">P</span>.blinker)</span><br><span class="line">                step .= <span class="number">0</span></span><br><span class="line">            <span class="type">Toad</span> -&gt; <span class="keyword">do</span> </span><br><span class="line">                state .= (<span class="type">P</span>.strToGrid <span class="type">P</span>.toad)</span><br><span class="line">                step .= <span class="number">0</span></span><br><span class="line">            <span class="type">Beacon</span> -&gt; <span class="keyword">do</span> </span><br><span class="line">                state .= (<span class="type">P</span>.strToGrid <span class="type">P</span>.beacon)</span><br><span class="line">                step .= <span class="number">0</span></span><br><span class="line">            <span class="type">Reset</span> -&gt; <span class="keyword">do</span> </span><br><span class="line">                state .= <span class="type">P</span>.deadGrid</span><br><span class="line">                step .= <span class="number">0</span></span><br><span class="line">            <span class="type">Next</span> -&gt; <span class="keyword">do</span> </span><br><span class="line">                state %= <span class="type">L</span>.evolution</span><br><span class="line">                step %= (+ <span class="number">1</span>)</span><br><span class="line">            <span class="type">Quit</span> -&gt; <span class="keyword">do</span> </span><br><span class="line">                halt</span><br><span class="line">            <span class="type">Cell</span> idx cst -&gt; state %= (\s -&gt; <span class="type">L</span>.toggleState s idx)</span><br><span class="line">            </span><br><span class="line">            </span><br><span class="line"><span class="title">appEvent</span> (<span class="type">T</span>.<span class="type">VtyEvent</span> (<span class="type">V</span>.<span class="type">EvKey</span> (<span class="type">V</span>.<span class="type">KChar</span> 'n') [])) = <span class="keyword">do</span></span><br><span class="line">    state %= <span class="type">L</span>.evolution</span><br><span class="line">    step %= (+ <span class="number">1</span>)</span><br><span class="line"><span class="title">appEvent</span> (<span class="type">T</span>.<span class="type">MouseUp</span> &#123;&#125;) =</span><br><span class="line">    lastReportedClick .= <span class="type">Nothing</span></span><br><span class="line"><span class="title">appEvent</span> (<span class="type">T</span>.<span class="type">VtyEvent</span> (<span class="type">V</span>.<span class="type">EvMouseUp</span> &#123;&#125;)) =</span><br><span class="line">    lastReportedClick .= <span class="type">Nothing</span></span><br><span class="line"><span class="title">appEvent</span> (<span class="type">T</span>.<span class="type">VtyEvent</span> (<span class="type">V</span>.<span class="type">EvKey</span> <span class="type">V</span>.<span class="type">KEsc</span> [])) =</span><br><span class="line">    halt</span><br><span class="line"><span class="title">appEvent</span> ev = </span><br><span class="line">    return ()</span><br><span class="line"></span><br><span class="line"><span class="title">aMap</span> :: <span class="type">AttrMap</span></span><br><span class="line"><span class="title">aMap</span> = attrMap <span class="type">V</span>.defAttr</span><br><span class="line">    [ (attrName <span class="string">"Block"</span>,   <span class="type">V</span>.white `on` <span class="type">V</span>.green)</span><br><span class="line">    , (attrName <span class="string">"Beehive"</span>,   <span class="type">V</span>.white `on` <span class="type">V</span>.green)</span><br><span class="line">    , (attrName <span class="string">"Loaf"</span>,   <span class="type">V</span>.white `on` <span class="type">V</span>.green)</span><br><span class="line">    , (attrName <span class="string">"Boat"</span>,   <span class="type">V</span>.white `on` <span class="type">V</span>.green)</span><br><span class="line">    , (attrName <span class="string">"Tub"</span>,   <span class="type">V</span>.white `on` <span class="type">V</span>.green)</span><br><span class="line">    , (attrName <span class="string">"Blinker"</span>,   <span class="type">V</span>.white `on` <span class="type">V</span>.blue)</span><br><span class="line">    , (attrName <span class="string">"Toad"</span>,   <span class="type">V</span>.white `on` <span class="type">V</span>.blue)</span><br><span class="line">    , (attrName <span class="string">"Beacon"</span>,   <span class="type">V</span>.white `on` <span class="type">V</span>.blue)</span><br><span class="line">    , (attrName <span class="string">"Reset"</span>,   <span class="type">V</span>.white `on` <span class="type">V</span>.cyan)</span><br><span class="line">    , (attrName <span class="string">"Next"</span>,   <span class="type">V</span>.white `on` <span class="type">V</span>.cyan)</span><br><span class="line">    , (attrName <span class="string">"Quit"</span>,   <span class="type">V</span>.white `on` <span class="type">V</span>.cyan)</span><br><span class="line">    ]</span><br><span class="line"></span><br><span class="line"><span class="title">app</span> :: <span class="type">App</span> <span class="type">St</span> e <span class="type">Name</span></span><br><span class="line"><span class="title">app</span> =</span><br><span class="line">    <span class="type">App</span> &#123; appDraw = drawUi</span><br><span class="line">          , appStartEvent = <span class="keyword">do</span></span><br><span class="line">              vty &lt;- getVtyHandle</span><br><span class="line">              liftIO $ <span class="type">V</span>.setMode (<span class="type">V</span>.outputIface vty) <span class="type">V</span>.<span class="type">Mouse</span> <span class="type">True</span></span><br><span class="line">          , appHandleEvent = appEvent</span><br><span class="line">          , appAttrMap = const aMap</span><br><span class="line">          , appChooseCursor = showFirstCursor</span><br><span class="line">          &#125;</span><br><span class="line"></span><br><span class="line"><span class="title">main</span> :: <span class="type">IO</span> ()</span><br><span class="line"><span class="title">main</span> = <span class="keyword">do</span></span><br><span class="line">    void $ defaultMain app $ <span class="type">St</span> [] <span class="type">Nothing</span> <span class="type">P</span>.deadGrid <span class="number">0</span> <span class="string">""</span></span><br></pre></td></tr></table></figure></div><section class="meta" id="footer-meta"><hr><div class="new-meta-box"><div class="new-meta-item date" itemprop="dateUpdated" datetime="2023-12-27T15:40:52-08:00"><a class="notlink"><i class="fas fa-clock" aria-hidden="true"></i><p>last updated at Dec 27, 2023</p></a></div><div class="new-meta-item meta-tags"><a class="tag" href="/tags/Haskell/" rel="nofollow"><i class="fas fa-hashtag" aria-hidden="true"></i>&nbsp;<p>Haskell</p></a></div></div></section><div class="prev-next"><section class="prev"><span class="art-item-left"><h6><i class="fas fa-chevron-left" aria-hidden="true"></i>&nbsp;Previous</h6><h4><a href="/2023/Fighting-loneliness-using-generative-AI-with-avatar/" rel="prev" title="Fighting loneliness using generative AI with avatar">Fighting loneliness using generative AI with avatar</a></h4><h6 class="tags"><a class="tag" href="/tags/research/"><i class="fas fa-hashtag fa-fw" aria-hidden="true"></i>research</a></h6></span></section><section class="next"><span class="art-item-right" aria-hidden="true"><h6>Next&nbsp;<i class="fas fa-chevron-right" aria-hidden="true"></i></h6><h4><a href="/2023/Usability-analysis-of-autocomplete/" rel="prev" title="Usability analysis of autocomplete">Usability analysis of autocomplete</a></h4><h6 class="tags"><a class="tag" href="/tags/research/"><i class="fas fa-hashtag fa-fw" aria-hidden="true"></i>research</a></h6></span></section></div></section></article><article class="post white-box comments"><section class="article typo"><h4><i class="fas fa-comments fa-fw" aria-hidden="true"></i>&nbsp;Comments</h4><section id="comments"><div id="valine_container" class="valine_thread"><i class="fas fa-spinner fa-spin fa-fw"></i></div></section></section></article><script>window.subData={title:"Simple interative Haskell game",tools:!0}</script><script>window.subData={title:"Simple interative Haskell game",tools:!0}</script></div><aside id="aside_l_side" class="l_side"><section class="widget toc-wrapper"><header class="material"><div><i class="fas fa-list fa-fw" aria-hidden="true"></i>&nbsp;&nbsp;TOC</div><div class="wrapper"><a class="s-toc rightBtn" rel="external nofollow noopener noreferrer" href="javascript:void(0)"><i class="fas fa-thumbtack fa-fw"></i></a></div></header><div class="content material"><ol class="toc"><li class="toc-item toc-level-2"><a class="toc-link" href="#overview"><span class="toc-text">Overview</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#game-description"><span class="toc-text">Game Description</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#implementation"><span class="toc-text">implementation</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#project-goals"><span class="toc-text">Project Goals</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#source-acknowledgment"><span class="toc-text">Source acknowledgment</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#code"><span class="toc-text">Code</span></a></li></ol></div></section><section class="widget category"><header class="material"><div><i class="fas fa-folder-open fa-fw" aria-hidden="true"></i>&nbsp;&nbsp;Categories</div><a class="rightBtn" rel="nofollow" href="/categories/" title="categories/"><i class="fas fa-expand-arrows-alt fa-fw"></i></a></header><div class="content material"><ul class="entry"><li><a class="flat-box" title="/categories/Cryptocurrency-Application/" href="/categories/Cryptocurrency-Application/"><div class="name">Cryptocurrency Application</div><div class="badge">(4)</div></a></li><li><a class="flat-box child" title="/categories/Cryptocurrency-Application/Bitcoin/" href="/categories/Cryptocurrency-Application/Bitcoin/"><div class="name">Bitcoin</div><div class="badge">(1)</div></a></li><li><a class="flat-box child" title="/categories/Cryptocurrency-Application/EOSIO/" href="/categories/Cryptocurrency-Application/EOSIO/"><div class="name">EOSIO</div><div class="badge">(3)</div></a></li><li><a class="flat-box" title="/categories/Expo/" href="/categories/Expo/"><div class="name">Expo</div><div class="badge">(4)</div></a></li><li><a class="flat-box" title="/categories/Haskell/" href="/categories/Haskell/"><div class="name">Haskell</div><div class="badge">(1)</div></a></li><li><a class="flat-box" title="/categories/NodeJs/" href="/categories/NodeJs/"><div class="name">NodeJs</div><div class="badge">(1)</div></a></li><li><a class="flat-box" title="/categories/Nodejs/" href="/categories/Nodejs/"><div class="name">Nodejs</div><div class="badge">(1)</div></a></li><li><a class="flat-box" title="/categories/Programs/" href="/categories/Programs/"><div class="name">Programs</div><div class="badge">(5)</div></a></li><li><a class="flat-box child" title="/categories/Programs/Coursework/" href="/categories/Programs/Coursework/"><div class="name">Coursework</div><div class="badge">(3)</div></a></li><li><a class="flat-box child" title="/categories/Programs/tools/" href="/categories/Programs/tools/"><div class="name">tools</div><div class="badge">(2)</div></a></li><li><a class="flat-box" title="/categories/optimization/" href="/categories/optimization/"><div class="name">optimization</div><div class="badge">(5)</div></a></li><li><a class="flat-box" title="/categories/research/" href="/categories/research/"><div class="name">research</div><div class="badge">(4)</div></a></li><li><a class="flat-box" title="/categories/website/" href="/categories/website/"><div class="name">website</div><div class="badge">(10)</div></a></li><li><a class="flat-box child" title="/categories/website/Cloudflare-Worker/" href="/categories/website/Cloudflare-Worker/"><div class="name">Cloudflare Worker</div><div class="badge">(2)</div></a></li><li><a class="flat-box child" title="/categories/website/Hexo/" href="/categories/website/Hexo/"><div class="name">Hexo</div><div class="badge">(2)</div></a></li><li><a class="flat-box child" title="/categories/website/JS/" href="/categories/website/JS/"><div class="name">JS</div><div class="badge">(2)</div></a></li></ul></div></section><section class="widget tagcloud"><header class="material"><div><i class="fas fa-fire fa-fw" aria-hidden="true"></i>&nbsp;&nbsp;Hot Tags</div><a class="rightBtn" rel="nofollow" href="/tags/" title="tags/"><i class="fas fa-expand-arrows-alt fa-fw"></i></a></header><div class="content material"><a href="/tags/A-Frame/" style="font-size:14px;color:#999">A-Frame</a> <a href="/tags/AES/" style="font-size:14px;color:#999">AES</a> <a href="/tags/AR-js/" style="font-size:14px;color:#999">AR.js</a> <a href="/tags/Bitcoin/" style="font-size:14px;color:#999">Bitcoin</a> <a href="/tags/Dialogflow/" style="font-size:14px;color:#999">Dialogflow</a> <a href="/tags/Expo/" style="font-size:22px;color:#636363">Expo</a> <a href="/tags/GAMS/" style="font-size:18px;color:#7e7e7e">GAMS</a> <a href="/tags/HTML/" style="font-size:18px;color:#7e7e7e">HTML</a> <a href="/tags/Haskell/" style="font-size:14px;color:#999">Haskell</a> <a href="/tags/JFoenix/" style="font-size:14px;color:#999">JFoenix</a> <a href="/tags/JS/" style="font-size:22px;color:#636363">JS</a> <a href="/tags/Java/" style="font-size:16px;color:#8b8b8b">Java</a> <a href="/tags/JavaFX/" style="font-size:16px;color:#8b8b8b">JavaFX</a> <a href="/tags/Javascript/" style="font-size:14px;color:#999">Javascript</a> <a href="/tags/LP/" style="font-size:14px;color:#999">LP</a> <a href="/tags/MIP/" style="font-size:24px;color:#555">MIP</a> <a href="/tags/Nlp-js/" style="font-size:20px;color:#707070">Nlp.js</a> <a href="/tags/NodeJs/" style="font-size:14px;color:#999">NodeJs</a> <a href="/tags/Nodejs/" style="font-size:14px;color:#999">Nodejs</a> <a href="/tags/Notes/" style="font-size:14px;color:#999">Notes</a> <a href="/tags/SQL/" style="font-size:16px;color:#8b8b8b">SQL</a> <a href="/tags/Self-learning/" style="font-size:14px;color:#999">Self learning</a> <a href="/tags/Three-js/" style="font-size:14px;color:#999">Three.js</a> <a href="/tags/Website/" style="font-size:20px;color:#707070">Website</a> <a href="/tags/choco-solver/" style="font-size:14px;color:#999">choco-solver</a> <a href="/tags/ejs/" style="font-size:16px;color:#8b8b8b">ejs</a> <a href="/tags/eos/" style="font-size:18px;color:#7e7e7e">eos</a> <a href="/tags/eos-cdt/" style="font-size:18px;color:#7e7e7e">eos.cdt</a> <a href="/tags/eosio-contracts/" style="font-size:18px;color:#7e7e7e">eosio.contracts</a> <a href="/tags/jsLpsolver/" style="font-size:14px;color:#999">jsLpsolver</a> <a href="/tags/research/" style="font-size:18px;color:#7e7e7e">research</a></div></section><section class="widget related_posts"><header class="material"><div><i class="fas fa-bookmark fa-fw" aria-hidden="true"></i>&nbsp;&nbsp;Related Posts</div></header><div class="content material"></div></section></aside><footer id="footer" class="clearfix"><div class="footer"></div><br><div class="social-wrapper"><a href="mailto:huangsk100@gmail.com" class="social fas fa-envelope flat-btn" target="_blank" rel="external nofollow noopener noreferrer"></a> <a href="https://github.com/ShaokangJiang" class="social fab fa-github flat-btn" target="_blank" rel="external nofollow noopener noreferrer"></a> <a href="https://github.com/sjiang97" class="social fab fa-github flat-btn" target="_blank" rel="external nofollow noopener noreferrer"></a></div><br><div><p>Powered by <a href="https://hexo.io/">Hexo</a>. Use <a href="https://xaoxuu.com/wiki/material-x/">Material-X</a> as theme.</p></div></footer><script>setLoadingBarProgress(80)</script><script>setLoadingBarProgress(60)</script></div><a class="s-top fas fa-arrow-up fa-fw" href="javascript:void(0)"></a></div><script src="https://cdn.jsdelivr.net/npm/jquery@3.3.1/dist/jquery.min.js"></script><script>var GOOGLE_CUSTOM_SEARCH_API_KEY="",GOOGLE_CUSTOM_SEARCH_ENGINE_ID="",ALGOLIA_API_KEY="",ALGOLIA_APP_ID="",ALGOLIA_INDEX_NAME="",AZURE_SERVICE_NAME="",AZURE_INDEX_NAME="",AZURE_QUERY_KEY="",BAIDU_API_ID="",SEARCH_SERVICE="hexo",ROOT="/";ROOT.endsWith("/")||(ROOT+="/")</script><script src="//instant.page/1.2.2" type="module" integrity="sha384-2xV8M5griQmzyiY3CDqh1dn4z3llDVqZDqzjzcY+jCBCk/a5fXJmuZ/40JJAPeoU"></script><script async src="https://cdn.jsdelivr.net/npm/scrollreveal@4.0.5/dist/scrollreveal.min.js"></script><script type="text/javascript">$((function(){0!==$(".reveal").length&&ScrollReveal({distance:0}).reveal(".reveal")}))</script><script src="https://cdn.jsdelivr.net/npm/node-waves@0.7.6/dist/waves.min.js"></script><script type="text/javascript">$((function(){Waves.attach(".flat-btn",["waves-button"]),Waves.attach(".float-btn",["waves-button","waves-float"]),Waves.attach(".float-btn-light",["waves-button","waves-float","waves-light"]),Waves.attach(".flat-box",["waves-block"]),Waves.attach(".float-box",["waves-block","waves-float"]),Waves.attach(".waves-image"),Waves.init()}))</script><script src="https://cdnjs.cloudflare.com/ajax/libs/jquery-backstretch/2.0.4/jquery.backstretch.min.js"></script><script type="text/javascript">$((function(){$(".cover").backstretch(["https://img.vim-cn.com/6d/a0c9e6f9efad8b731cb7376504bd10d79d2053.jpg"],{duration:"6000",fade:"2500"})}))</script><script src="//cdn1.lncld.net/static/js/3.0.4/av-min.js"></script><script src="https://cdn.jsdelivr.net/gh/xaoxuu/cdn-valine@1.3.4/js/valine.min.js"></script><script>var GUEST_INFO=["nick","mail","link"],guest_info="nick,mail,link".split(",").filter((function(i){return GUEST_INFO.indexOf(i)>-1})),notify=!1,verify=!1,valine=new Valine;valine.init({el:"#valine_container",notify:notify,verify:verify,guest_info:guest_info,appId:"g0v2qyGEhGys4wGpCLsKkerW-gzGzoHsz",appKey:"Sceumpu0A14EiY5RR3HtsCFx",placeholder:"",pageSize:"10",avatar:"mp",lang:"en",highlight:"false"})</script><script src="https://cdn.jsdelivr.net/gh/xaoxuu/cdn-material-x@19.4.19/js/app.js"></script><script src="https://cdn.jsdelivr.net/gh/xaoxuu/cdn-material-x@19.4.19/js/search.js"></script><script src="https://cdn.jsdelivr.net/npm/clipboard@2/dist/clipboard.min.js"></script><script>let COPY_SUCCESS="Copied",COPY_FAILURE="Copy failed";window,document,function(){$(".highlight .code pre").before('<button class="btn-copy" data-clipboard-snippet="">  <i class="fa fa-copy"></i><span>Copy</span></button>');var o=new ClipboardJS(".btn-copy",{target:function(o){return o.nextElementSibling}});o.on("success",(function(o){console.info("Action:",o.action),console.info("Text:",o.text),console.info("Trigger:",o.trigger),success_prompt(COPY_SUCCESS),o.clearSelection()})),o.on("error",(function(o){console.error("Action:",o.action),console.error("Trigger:",o.trigger),fail_prompt(COPY_FAILURE)}))}();var prompt=function(o,n,t){n=void 0===n?"alert-success":n,t=void 0===t?1500:1e3*t,$("<div>").appendTo("body").addClass("alert "+n).html(o).show().delay(t).fadeOut()},success_prompt=function(o,n){prompt(o,"alert-success",n)},fail_prompt=function(o,n){prompt(o,"alert-danger",n)},warning_prompt=function(o,n){prompt(o,"alert-warning",n)},info_prompt=function(o,n){prompt(o,"alert-info",n)}</script><script src="https://cdn.jsdelivr.net/gh/fancyapps/fancybox@3.5.7/dist/jquery.fancybox.min.js"></script><script>let LAZY_LOAD_IMAGE="";$(".article-entry").find("fancybox").find("img").each((function(){var t=document.createElement("a");$(t).attr("data-fancybox","gallery"),$(t).attr("href",$(this).attr("src")),LAZY_LOAD_IMAGE&&$(t).attr("href",$(this).attr("data-original")),$(this).wrap(t)}))</script><script>setLoadingBarProgress(100)</script></body></html>